name: 'Push to Status Check-Protected Branches'
description: 'Push local workflow commit(s) to protected branches with required status checks.'
author: 'Casper Welzel Andersen'
branding:
  icon: shield
  color: purple
inputs:
  token:
    description: 'Token for the repo'
    required: true
  repository:
    description: 'Repository name to push to. Default or empty value represents current github repository'
    default: '${{ github.repository }}'
    required: false
  branch:
    description: 'Target branch for the push'
    required: false
    default: 'master'
  changes:
    description: 'Shell script to run in the target repository root prior to the push. NOTE: Unrelated to prior workflow jobs and steps. MUST be a file in the repository that spawns the workflow. MUST be a relative path from the repository root, e.g., `.github/workflows/changes.sh`'
    required: false
    default: ''
  extra_data:
    description: 'Comma-separated (,) list of files needed by the shell scipt in `changes`. MUST be a relative path from the repository root, e.g., `.github/workflows/data.md,CHANGLOG.md`'
    required: false
    default: ''
  interval:
    description: 'Time interval (in seconds) between each new check, when waiting for status checks to complete'
    required: false
    default: 30
  timeout:
    description: 'Time (in minutes) of how long the action should run before timing out, waiting for status checks to complete'
    required: false
    default: 15
  sleep:
    description: 'Time (in seconds) the action should wait until it will start "waiting" and check the list of running actions/checks. This should be an appropriate number to let the checks start up.'
    required: false
    defualt: 5
runs:
  using: 'docker'
  image: 'Dockerfile'
